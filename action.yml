name: 'Manifest Cyber SBOM Transmitter'
description: 'Transmit an SBOM to your Manifest Cyber account'
inputs:
  apiKey:
    description: 'An API key generated in the Manifest app'
    required: false
  bomFilePath:
    description: 'The location of a generated SBOM file. Accepts CycloneDX or SPDX SBOMs in JSON. If a file is not provided, an SBOM will be generated using the parameters below.'
    required: false
    default: './bom.json'
  path:
    description: 'Path of the target repository to generate an SBOM for'
    required: false
  relationship:
    description: 'Sets the relationship of the SBOM. Must be either "first" or "third" with most cases being "first" for SBOMs generated using the GitHub action.'
    required: false
    default: 'first'
  source:
    description: 'The source of the uploaded SBOM.'
    required: false
    default: 'github-action'
  bomName:
    description: 'The SBOM name, defaults to repository name'
    required: false
  bomVersion:
    description: 'The SBOM version, defaults to environment variable tag, or commit hash'
    required: false
  bomOutput:
    description: 'The SBOM output format, Supports: spdx-json | cyclonedx-json'
    required: false
    default: 'cyclonedx-json'
  bomGenerator:
    description: 'The SBOM generator, defaults to syft. Supports: syft | trivy | cdxgen | sigstore-bom | spdx-sbom-generator | docker-sbom'
    required: false
    default: 'syft'
  bomArtifact:
    description: 'Boolean to store the generated SBOM as an artifact. An artifact will not be created when set to anything other than `true`.'
    required: false
    default: 'true'
  bomPublish:
    description: 'Boolean to publish the SBOM to the Manifest Cyber platform. Expects either `true` or `false`. When unset, the action will upload if an API Key is present.'
    required: false
  bomGeneratorFlags:
    description: 'ADVANCED USERS: Flags the Manifest CLI passes through to the generator'
    required: false

runs:
  using: 'node16'
  main: 'index.js'
